
# 性能优化

## 解决 tableView 卡顿

> 1. 正确的复用 cell
> 2. 对于复杂视图可以采用懒加载来推迟创建时间，尽量减少视图层级
> 3. 提前计算并缓存高度(布局)
> 4. 异步绘制，在复杂的界面使用
> 5. 滑动时按需加载，在大量图片展示，网络加载时很管用
> 7. 尽量使所有的视图不透明化及圆角使用切圆操作
> 8. 不要动态的 add 或者 remove 子控件，可以通过 hidden 属性控制是否显示

## 影响启动速度的因素有哪些

> 1. main() 函数之前的耗时
>
>    动态库加载越多，启动越慢；
>
>    ObjC 类越多，启动越慢；
>
>    ObjC 的 +load 越多，启动越慢
>
>    C 的 constructor 函数越多，启动越慢；
>
>    C++ 的静态对象越多，启动越慢；
>
> 2. main() 函数之后的耗时
>    执行 main() 函数的耗时
>
>    执行 applicationWillFinishLaunching 的耗时
>
>    rootViewController 及其 childViewController 的加载

> 常用的优化启动速度的方案：
>
> * 减少动态库数量，动态库加载时间会减少，苹果官方推荐的是动态库不要多于 6 个
> * 减少 Objective-C 的类数量，例如合并或删除，可以加快动态链接，重定位所耗费的时间会减少
> * 使用 initialize 方法替换 load 方法，或是尽量将 load 方法中的代码延后调用，对象的初始化所耗费的时间会减少。

## Appdelegate 如何瘦身？

> 使用分类，针对不同的功能增加分类。

## 讲如何将一张内存极大的图片可以像地图一样的加载出来

> 把大图分成 N 片，利用多线程对图片进行渲染。
>
> 使用 CATiledLayer 将需要绘制的内容分割成许多小块，然后在多线程中按需异步绘制相应的部分。

## 二进制重排的核心依据是什么

> 修改链接顺序，减少启动时的缺页中断。